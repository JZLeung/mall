<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>商城后台管理</title>

  <link href="__PUBLIC__/Admin/sb/css/bootstrap.min.css" rel="stylesheet">
  <link href="__PUBLIC__/Admin/sb/css/sb-admin-2.css" rel="stylesheet">
  <link href="__PUBLIC__/Admin/sb/css/font-awesome.css" rel="stylesheet" type="text/css"></head>
  <link href="__PUBLIC__/Admin/ad.css" rel="stylesheet" type="text/css"></head>
  <style>
    .items-box .item{
      width: 250px;
      display: inline-block;
      padding: 10px;
      border: 1px solid #eee; 
      margin: 5px;
      cursor: pointer;
    }
    .items-box .item.active{
      border-color: #337ab7;
    }
    .items-box .item > div{
      float: left;
      font-size: 12px;
    }
    .items-box .item .image{
      width: 50px;
    }
    .items-box .item .content{
      width: 160px;
    }
    .items-box .item img{
      width: 100%;
    }
    .items-box .item .title{
      height: 2.3em;
      line-height: 1.2em;
      overflow: hidden;
    }
    .item-mask{
      top: 20px;
      left: 50%;
      margin-left: -550px;
      max-width: 1100px;
      padding: 20px;
      box-shadow: 0px 0px 20px rgba(0,0,0,0.5);
      overflow-y: scroll;
      visibility: visible;
      -webkit-transform: scale(1);
      -ms-transform: scale(1);
      -o-transform: scale(1);
      transform: scale(1);
    }
  </style>
<body>
  <div id="wrapper">
    <include file='./Public/Template/Admin/_header_.html' />
    <!-- begin of the content -->
    <pre style="display: none;">{$advertise|json_decode}</pre>
    <div id="page-wrapper">
      <div class="row">
        <div class="col-lg-12">
          <h1 class="page-header">明星产品设置</h1>
        </div>
        <div class="col-lg-12">
        </div>
        <div class="col-lg-12" style="margin-top: 20px;">
          <button class="btn btn-primary" id="edit">编辑该广告</button>
          <button class="btn btn-danger" id="delete">删除该广告</button>
          <a class="btn btn-success" href="../Advertise/toAdd?type=carousel">添加新广告</a>
        </div>
      </div>
    </div>
  </div>
  <div class="item-mask" id="mask">
    <div class="items-box">
    <foreach name="items" item="all">
      <h3>{$all.name}</h3>
      <foreach name="all.item" item="one">
      <div class="item clear">
        <div class="image"><img src="{$one.pictures.0.src}" alt=""></div>
        <div class="content">
          <p class="title">{$one.title}</p>
          <small>{$one.desc}</small>
        </div>
      </div>
      </foreach>
      <hr>
    </foreach>
    </div>
  </div>
  <script>
    (function(){
      var count = 0, all = 8;
      $('#mask').on('click', '.item', function(event) {
        event.preventDefault();
        var _this = $(this);
        _this.toggleClass('active');
        if (!_this.hasClass('active')) {
          count --;
        }else{
          count ++;
        }
        if (count > all) {
          alert('最多只能选'+all+'个明星产品');
          count--;
          _this.removeClass('active');
        }
        
        
      });
      /*var mask = document.getElementById('mask');
      function toggleClass(ele, className){
        if (ele.classList.contains(className)) {
          ele.classList.remove(className)
        }else{
          ele.classList.add(className)
        }
      }
      mask.addEventListener('click', function(e){
        e = e || window.event;
        e.preventDefault();
        var target = e.target || e.srcElement;
        toggleClass(target, 'active');
      })*/
    })();
  </script>
</body>